# Lunar Lander Simulation

A Go implementation of the classic 1969 FOCAL Lunar Lander simulation. This is a faithful translation of the original FOCAL program to modern Go 1.24.

## Overview

This project implements the Lunar Lander simulation, where the player controls a lunar module's descent to the moon's surface. The goal is to land safely with minimal fuel consumption and impact velocity.

## Physics Implementation

The simulation models the following physical quantities:

- **Gravity**: Lunar gravity is approximately 1/6th of Earth's (1.62 m/s² or 0.001 miles/s² in the simulation)
- **Thrust**: Generated by the engine based on fuel consumption rate (K in lbs/sec)
- **Mass**: Changes as fuel is consumed
- **Velocity**: Affected by gravity and thrust
- **Altitude**: Updated based on velocity and acceleration

The key equations used are:

1. **Thrust Force**: `F = m_dot * v_e` where `m_dot` is the mass flow rate and `v_e` is the exhaust velocity
2. **Acceleration**: `a = F/m - g` where `F` is thrust, `m` is current mass, and `g` is lunar gravity
3. **Velocity Update**: `v = v0 + a * dt`
4. **Position Update**: `y = y0 + v0 * dt + 0.5 * a * dt^2`

## Running the Simulation

To run the simulation:

```bash
go run main.go
```

Follow the on-screen prompts to control the lander's fuel rate (K) in lbs/sec. You can enter a new fuel rate every 10 seconds.

## Running Tests

To run the test suite:

```bash
go test -v
```

The test suite includes:

- `TestGoodLanding`: Verifies a successful landing using a known-good sequence of fuel rates
- `TestBadLanding`: Verifies a crash landing using a known-bad sequence of fuel rates
- `TestPhysics`: Verifies the physics calculations with specific test cases

## Implementation Notes

- The simulation uses a fixed time step of 10 seconds for updates, with smaller steps near impact for better accuracy
- Fuel consumption is calculated based on the current fuel rate and time step
- The simulation ends when the lander reaches the surface (altitude <= 0)
- The final impact velocity determines the landing outcome (perfect, good, poor, crash)

## Differences from Original FOCAL Implementation

1. **Floating-Point Precision**: Uses Go's float64 instead of the original's fixed-point arithmetic
2. **Time Step**: Uses fixed time steps with interpolation for smoother simulation
3. **User Input**: More robust input handling than the original FOCAL version
4. **Output Format**: Improved formatting for better readability

## License

This project is in the public domain, just like the original FOCAL implementation.
